<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <title>Екатеринбург</title>
        <link href="style.css" rel="stylesheet" type="text/css"/>
    </head>
    <body>
        <div class="page-wrapper">
            <div class="section-hero">
                <div class="background-layer"></div>
                <div class="hero-nav">
                    <div class="div-block">
                    </div>
                    <a href="index.html" target="_blank" class="hero-nav_button-wrapper button-icon-small-secondary margin-right-small mobile-margin-right-zero w-inline-block">
                        <img loading="lazy" srcset="https://cdn.prod.website-files.com/6661a8d0f27df3e991753dfb/6661a8d0f27df3e991753e67_library%2520icon2-p-500.png 500w, https://cdn.prod.website-files.com/6661a8d0f27df3e991753dfb/6661a8d0f27df3e991753e67_library%2520icon2-p-800.png 800w, https://cdn.prod.website-files.com/6661a8d0f27df3e991753dfb/6661a8d0f27df3e991753e67_library%2520icon2-p-1080.png 1080w, https://cdn.prod.website-files.com/6661a8d0f27df3e991753dfb/6661a8d0f27df3e991753e67_library%20icon2.png 1600w" sizes="(max-width: 479px) 100vw, 24px" alt="" class="button-icon"/>
                        Другие города
                    </a>
                </div>
                <div class="container">
                    <div class="padding-vertical-xxlarge">
                        <div class="timeline-hero_heading-wrapper">
                            <h1 id="name" ></h1>
                            <div class="margin-bottom-medium">
                                <h4>Достопримечательности</h4>
                            </div>
                            <p id="slogan" class="paragraph-large"></p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="section-timeline-heading">
                <div class=" container padding-vertical-xlarge">
                    <div class="timeline-main_heading-wrapper margin-bottom-medium">
                            <h2>История города в культурных объектах</h2>
                    </div>
                </div>
            </div>
            <div class="section-timeline">
                <div class="container">
                    <div id="timeline" class="timeline_component">
                        <div class="timeline_progress">
                            <div class="timeline_progress-bar"></div>
                        </div>
                        <div class="overlay-fade-bottom"></div>
                        <div class="overlay-fade-top"></div>
                    </div>
                </div>
            </div>

            <div class="section-footer">
                <div class="background-layer"></div>
                <div class="container">
                    <div class="padding-vertical-footer">
                        <div class="footer_credits-wrapper">
                            <p>© 2024, Danila Danchikov</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script>
            var attractions = document.getElementById("timeline");
            LoadAttractions();
            async function LoadAttractions()
            {
                var id = location.href.substring(location.href.indexOf("=")+1);
                var response = await fetch(`https://a27891-0dda.t.d-f.pw/cities/${id}`)
                var attracts = await response.json();
                var name = document.getElementById("name");
                name.append(attracts.name);
                document.title = attracts.name;
                var slogan = document.getElementById("slogan");
                slogan.append(attracts.slogan);
                attracts.attractions.forEach(att =>
                {
                    var itemDiv = document.createElement("div");
                    itemDiv.setAttribute("class", "timeline_item");
                    var leftDiv = document.createElement("div");
                    leftDiv.setAttribute("class", "timeline_left");
                    var leftNameDiv = document.createElement("div");
                    leftNameDiv.setAttribute("class", "timeline_date-text");
                    leftNameDiv.append(att.name);
                    leftDiv.append(leftNameDiv);
                    itemDiv.append(leftDiv);
                    var centerDiv = document.createElement("div");
                    centerDiv.setAttribute("class", "timeline_centre");
                    var circleDiv = document.createElement("div");
                    circleDiv.setAttribute("class", "timeline_circle");
                    centerDiv.append(circleDiv);
                    itemDiv.append(centerDiv);
                    var timeline_right = document.createElement("div");
                    timeline_right.setAttribute("class", "timeline_right");
                    var margin_bottom_xlarge = document.createElement("div");
                    margin_bottom_xlarge.setAttribute("class", "margin-bottom-xlarge");
                    var timeline_text = document.createElement("div");
                    timeline_text.setAttribute("class", "timeline_text");
                    timeline_text.append(att.description);
                    margin_bottom_xlarge.append(timeline_text);
                    timeline_right.append(margin_bottom_xlarge);
                    var timeline_image_wrapper = document.createElement("div");
                    timeline_image_wrapper.setAttribute("class", "timeline_image-wrapper");
                    var img = document.createElement("img");
                    img.setAttribute("src", att.photo);
                    img.setAttribute("loading", "lazy");
                    timeline_image_wrapper.append(img);
                    timeline_right.append(timeline_image_wrapper);
                    itemDiv.append(timeline_right);
                    attractions.append(itemDiv);
                });
            }
        </script>
        <script src="script.js" type="text/javascript"></script>
    </body>
</html>
